# Upgrade notes — единый апгрейд AI Delivery

Краткий отчёт по изменениям по пунктам 1–6.

---

## 1) Шапка (Header) — полноценный premium header

**Было:** Простая шапка: логотип + 3 пункта навигации + «Связаться».

**Сделано:**
- **Файл:** `components/layout/Header.tsx` (новый), `app/page.tsx` — импорт из `@/components/layout/Header`.
- Лого-марк (`LogoMark`) + текст «AI Delivery».
- Навигация якорями: Услуги (#products), Сроки (#timeline), Как работаем (#process), Кейсы (#cases), Контакты (#cta).
- Primary CTA: «Запросить демо и план» (#cta).
- Secondary CTA: «Разобрать задачу за 15 минут» (#process).
- Sticky header + «стекло»: при скролле — `backdrop-filter: blur(12px)`, полупрозрачный фон; без скролла — градиент (без тяжёлого blur на весь экран).
- Mobile: burger menu → sheet/drawer с теми же пунктами и двумя CTA-кнопками.
- При скролле: уменьшение высоты (h-16 → h-14 на desktop), усиление контраста границы, подсветка активного якоря (линия под пунктом по текущей секции).

---

## 2) Hero: граф интеграций как заметный элемент

**Было:** Граф использовался как тихий фон (низкая непрозрачность).

**Сделано:**
- **Файл:** `components/hero/HeroIntegrationGraph.tsx` (новый).
- Граф вынесен в отдельный компонент: центральный узел AI, 7 узлов по кругу (n8n, Telegram, CRM, Sheets, WhatsApp, Сайт, Аналитика), линии центр→узел.
- Позиция: справа/по центру hero (md:justify-end), размер до ~420px на больших экранах, opacity 90–100%.
- Глубина: радиальный градиент-ореол за центром, glow на центральном узле (filter drop-shadow), «дыхание» центра (класс `integration-graph-breath`).
- Анимации: дыхание scale 1 → 1.03; data packets (2–3 точки вдоль линий) только при quality === "high", медленная скорость (4+ s на линию).
- Синхронизация с чипами: при клике на «Боты / Сайты / MiniApps / n8n» в Hero передаётся `highlightedNodeId` (маппинг chip id → node id), соответствующий узел и связи подсвечиваются на ~2.2 с.
- **HeroScene:** использует `HeroIntegrationGraph` с `highlightedNodeId` и `HeroServiceChips` с callback `onChipHighlight`; прежний фоновый `IntegrationGraph` убран.

---

## 3) Курсор: без задержки ядра, мягкое кольцо

**Было:** Один lerp 0.12 для всей оболочки — ядро «догоняло» с заметной задержкой.

**Сделано:**
- **Файл:** `components/fx/GlowCursor.tsx` переписан.
- Два независимых ref/позиции: **ядро-точка** (dotRef) и **кольцо** (ringRef).
- Ядро: lerp **0.75** — почти мгновенное следование за курсором.
- Кольцо: lerp **0.15** — мягкий trailing.
- Один RAF loop, без setState на mousemove; позиции обновляются через `style.transform` с `translate3d` и `will-change: transform`.
- На coarse pointer курсор по-прежнему отключён.

---

## 4) «Как работаем»: плавнее и с beam

**Было:** Прогресс-полоска и смена панели уже были; переходы 0.3 s.

**Сделано:**
- **Файл:** `components/sections/ProcessPanel.tsx`.
- Прогресс-линия с «beam»: градиент (cyan → violet) с ярким краем и `box-shadow: 0 0 12px rgba(86,240,255,0.4)`.
- Transition прогресса: 0.45 s, ease [0.22, 1, 0.36, 1].
- Переход панели: initial x 16, duration 0.4 s, тот же ease — чуть более плавная смена шагов.

---

## 5) «Боль → решение → результат»: копирайт + Typewriter

**Было:** Прямые формулировки «Боль / Решение / Облегчение» и ротация одного слова в блоке «Результат».

**Сделано:**
- **Файл:** `components/sections/PainSolution.tsx` переписан; **файл:** `components/ui/Typewriter.tsx` (новый).
- Копирайт переформулирован в премиальный тон:
  - «Боль» → «Типичная ситуация».
  - «Решение» → «Мы делаем иначе».
  - «Облегчение» → «В итоге».
  - Подзаголовок: «УТП в трёх шагах. Формат работы:».
- Блок «Результат»: выделенный блок с фоном/рамкой и **Typewriter** — поочерёдный вывод и стирание строк:
  1) «Заявки начинают приходить уже на MVP»
  2) «Рутина уходит в автоматизацию: лид → CRM → задачи → отчёты»
  3) «Гипотеза проверяется за 3–7 дней, а не за месяцы»
  4) «Команда фокусируется на решениях, а не на ручной работе»
- Визуал: мигающий курсор (caret), лёгкий glow у курсора; при `prefers-reduced-motion` показывается статичный список строк без анимации.
- Оффер-абзац внизу: «без лишних созвонов» вместо «без вашей головной боли».

---

## 6) Больше текста по сайту

**Сделано (короткие добавления):**
- **Интеграции:** абзац про связывание каналов (сайт, бот, CRM, Telegram, n8n) в единую систему и автоматическое формирование задач и отчётов.
- **Сроки (TimelineScene):** микро-пояснение: «Каждый диапазон — это готовый пакет: что входит, что получите, сколько времени».
- **CTA:** под основным текстом строка: «Ответим в течение рабочего дня. Без лишних созвонов — только по делу.»

Правило: каждое добавление усиливает ясность и доверие, без воды.

---

## Deliverables (итог)

1. **Header:** `components/layout/Header.tsx` — desktop + mobile, навигация, оба CTA, scroll-поведение, burger sheet.
2. **HeroIntegrationGraph:** `components/hero/HeroIntegrationGraph.tsx` — заметный граф на hero, глубина/glow, дыхание, data packets (high quality), подсветка по chip click.
3. **GlowCursor:** `components/fx/GlowCursor.tsx` — ядро lerp 0.75, кольцо lerp 0.15, один RAF, без setState на move.
4. **Как работаем:** `components/sections/ProcessPanel.tsx` — beam на прогресс-линии, плавность переходов 0.4 s.
5. **PainSolution + Typewriter:** `components/sections/PainSolution.tsx`, `components/ui/Typewriter.tsx` — новый копирайт, typewriter на блок «Результат», prefers-reduced-motion.
6. **Proof:** `components/sections/Proof.tsx` — блок цифр и доверия на Home.
7. **Текст:** Integrations, TimelineScene, CTA — по 1–2 строки микро-копирайта.
8. **Отчёт:** `docs/upgrade-notes.md` (этот файл).

---

## Acceptance (проверка)

- Header выглядит как премиальный продуктовый сайт.
- На hero граф заметный и «вау», текст остаётся читабельным.
- Курсор-ядро не лагает; кольцо мягко следует.
- «Как работаем» ощущается плавнее, прогресс с beam.
- Typewriter на «Результат» выделяется и работает; при reduced-motion — статичный список.
- Сайт стал полнее по контенту без перегруза.
