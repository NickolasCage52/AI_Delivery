# FX Stability — AI Delivery

## Причина → исправление → проверка

1) **FPS/auto‑downgrade**
   - Причина: FPS‑sampling/auto‑downgrade выключали blur/FX со временем.
   - Исправление: качество выбирается только по `prefers-reduced-motion` и параметрам устройства; нет авто‑понижения по FPS.
   - Проверка: 1–3 минуты на странице без исчезновения шейдера/blur/частиц.

2) **Quality levels (low)**
   - Причина: на low некоторые эффекты могли пропадать полностью.
   - Исправление: low снижает интенсивность (меньше частиц/blur), но не выключает ключевые слои.
   - Проверка: визуально сохраняются фон/графы/микро‑эффекты, пропадает только тяжёлый blur/частицы.

3) **Visibility change**
   - Причина: эффекты ставились на паузу при `document.hidden` и могли не возобновиться.
   - Исправление: canvas/WebGL используют `visibilitychange` только для паузы; при возврате вкладки эффекты продолжают рендер.
   - Проверка: переключить вкладки и убедиться, что шейдер/канвас возобновились.

4) **IntersectionObserver**
   - Причина: IO мог отключать FX‑слои при частичном скрытии.
   - Исправление: IO используется только для навигационных состояний (Header, Sticky CTA), не влияет на FX.
   - Проверка: скролл вверх/вниз без пропажи FX.
